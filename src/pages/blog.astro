---
import BlogPost from "../components/BlogPost.astro";
const allPosts = await Astro.glob("../pages/posts/*.md");
const postCount = allPosts.length;
import "../styles/style.css";
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout pageTitle="tlg | blog">
  <section id="blog flex items-center">
    <div
      id="blog-post-count"
      class="p-5 mx-auto md:mx-0 w-[250px] my-14 border border-solid border-zinc-300 rounded-xl"
    >
      <p>
        <span class="text-xl font-semibold"> { postCount } Posts </span>
        <hr class="border border-dashed border-zinc-600 my-2">
        <span class="text-sm bg-green-600 text-white px-4 p-[2px] rounded-full">welcome to my blog.</span>
        <br>
        I write about things I learn, <br>
        things I build, and things I find interesting.
      </p>
    </div>

    <ul>
      {
        allPosts.map((post) => (
          <BlogPost
            title={post.frontmatter.title}
            date={post.frontmatter.pubDate}
            post={post.url}
          />
        ))
      }
    </ul>
  </section>
</BaseLayout>
